#!/usr/bin/env sh
set -e
expected="227653518+BreederHQ-Admin@users.noreply.github.com"
author=$(git config user.email)
[ "$author" = "$expected" ] || {
  echo "Blocked: user.email is '$author' (expected $expected)." >&2
  echo "Run: git config user.email $expected" >&2
  exit 1
}
if git diff --cached --name-status | grep -E "^[D].*src/routes/"; then
  echo "Blocked: deleting files under src/routes/ (use --no-verify if intentional)." >&2
  exit 1
fi
